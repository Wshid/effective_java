## [ITEM.74] 메서드가 던지는 모든 예외 문서화

### 검사 예외의 문서화
- 각 메서드가 던지는 예외 각각을 문서화 하는데 시간을 쏟아야 함(ITEM.56)
- **검사 예외**는 항상 따로따로 선언하고
  - 각 예외가 발생하는 상황을
  - 자바독의 `@throws` 태그를 사용하여 문서화
- 공통 **상위 클래스**하나로 뭉뚱그려 선언하는 일은 x
  - 메서드가 `Exception`이나 `Throwable`을 던진다고 선언해서는 x
  - 메서드 사용자에게 각 **예외**에 대처할 수 있는 힌트가 없을 뿐더러,
  - 같은 맥락에서 발생한 여지가 있는 다른 예외까지 삼켜버릴 수 있음
    - API 사용성이 떨어짐
- 위 규칙의 유일한 예외는 `main` 메서드
  - `main`은 오직 `JVM`만이 호출하기 때문에, `Exception`을 던지도록 선언해도 괜찮음

### 비검사 예외의 문서화
- 자바 언어가 요구하는 사항은 아니나, 정성껏 문서화 해두면 좋음
- 비검사 예외는 일반적으로 **프로그래밍 오류**를 의미(ITEM.70)
  - 자신이 일으킬 수 있는 오류들이 무엇인지 알려주면
  - 프로그래머는 자연스럽게 해당 오류가 나지 않도록 코딩할 수 있음
- 잘 정비된 비검사 예외 문서는
  - 사실상 그 메서드를 성공적으로 수행하기 위한 **전제 조건**이 됨
- `public` 메서드라면 필요한 전제조건을 **문서화**하여야 하며(ITEM.56)
  - 그 수단으로 가장 좋은 것이, **비검사 예외를 문서화**하는 일


### 비검사 예외의 문서화 - 인터페이스 메서드
- 발생 가능한 비검사 예외를 문서로 남기는 일은
  - **인터페이스 메서드**에서 특히 중요함
- 이 조건이 **인터페이스**의 일반 규약에 속하게 되어
  - 그 인터페이스를 구현한 모든 구현체가 **일관되게 동작**하도록 해주기 때문

### 작성 규약
- 메서드가 던질 수 있는 예외를 `@throws` 태그로 문서화 하되,
  - **비검사 예외**는 메서드 선언의 `throws` 목록에 넣지 말 것
- 검사냐 비검사에 따라
  - API 사용자가 해야 할 일이 달라지므로, 이 둘을 구분하는 것이 좋음
- **자바독 유틸리티**는
  - 메서드 선언의 `throws` 절에 등장하고,
    - 메서드 주석의 `@throws` 태그에도 명시한 예외와
  - `@throws` 태그에만 명시한 예외를 **시각적으로 구분**해 줌
- 위 규칙을 지키면, 프로그래머는 어느것이 **비검사 예외**인지 바로 확인 가능

### 비검사 예외 문서화의 현실적인 문제
- 비검사 예외를 모두 문서화하는 것이 좋지만
  - 현실적으로 불가능 할 수 있음
- 클래스를 수정하면서 **새로운 비검사 예외**를 던지게 되어도
  - 소스 호환성과, **바이너리 호환성**이 그대로 유지ㄱ되기 때문
- 예를 들어
  - 다른 사람이 작성한 클래스를 사용하는 메서드 존재
  - 발생 가능한 모든 예외를 문서화
  - 후에, 외부 클래스에서 새로운 **비검사 예외**를 던지게 수정될 경우
  - 아무런 수정 없던 기존 메서드는, 문서에 언급되지 않은 **새로운 비검사 예외**가 전파됨

### 여러 메서드 동일 예외 발생시
- 한 클래스에 정의된 **많은 메서드**가
  - **같은 이유**로 같은 예외를 던지는 상황일 때
- 그 예외를 각각의 메서드가 아닌
  - **클래스 설명**에 추가하는 방법 존재
- `NullPointerException`
  - 이 클래스의 모든 메서드는 인수로 `null`이 넘어오면 `NullPointerException`이 발생함
  - 이라고 클래스 명시를 해도 좋음

### 정리
- 메서드가 던질 가능성이 있는 **모든 예외 문서화**
  - **검사 예외**든 **비검사 예외**든, 추상 메서드/구체 메서드 모두 마찬가지
- 문서화에는 자바독의 `@throws`태그를 사용
- **검사 예외**만, 메서드 선언의 `throws`에 일일이 선언하고,
  - **비검사 예외**는 메서드 선언에 기입하지 말 것
- 발생 가능한 예외를 문서로 남기지 않으면
  - 다른 사람이 그 클래스/인터페이스를 효과적으로 사용하기 어렵거나, 불가능할 수 있음